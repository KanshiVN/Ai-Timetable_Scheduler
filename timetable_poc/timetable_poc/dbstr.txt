CREATE TABLE public.class_batches (
    batch_id integer NOT NULL,
    class_id integer,
    batch_name character varying(10)
);


ALTER TABLE public.class_batches OWNER TO postgres;

--
-- Name: class_batches_batch_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

CREATE SEQUENCE public.class_batches_batch_id_seq
    AS integer
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER SEQUENCE public.class_batches_batch_id_seq OWNER TO postgres;

--
-- Name: class_batches_batch_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: postgres
--

ALTER SEQUENCE public.class_batches_batch_id_seq OWNED BY public.class_batches.batch_id;


--
-- Name: classes; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.classes (
    class_id integer NOT NULL,
    class_name character varying(50) NOT NULL,
    department character varying(100)
);


ALTER TABLE public.classes OWNER TO postgres;

--
-- Name: classes_class_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

CREATE SEQUENCE public.classes_class_id_seq
    AS integer
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER SEQUENCE public.classes_class_id_seq OWNER TO postgres;

--
-- Name: classes_class_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: postgres
--

ALTER SEQUENCE public.classes_class_id_seq OWNED BY public.classes.class_id;


--
-- Name: faculty_subject_preferences; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.faculty_subject_preferences (
    id integer NOT NULL,
    faculty_id integer,
    faculty_name character varying(100),
    designation character varying(50),
    class_name character varying(5),
    pref_1 character varying(100),
    pref_2 character varying(100),
    pref_3 character varying(100),
    allocated_subject character varying(100),
    status character varying(20) DEFAULT 'PENDING'::character varying,
    short_name character varying(10),
    created_time timestamp without time zone DEFAULT CURRENT_TIMESTAMP,
    semester integer,
    willing_for_practical boolean DEFAULT false,
    year_level character varying(5),
    subject_id integer
);


ALTER TABLE public.faculty_subject_preferences OWNER TO postgres;

--
-- Name: faculty_subject_preferences_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

CREATE SEQUENCE public.faculty_subject_preferences_id_seq
    AS integer
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER SEQUENCE public.faculty_subject_preferences_id_seq OWNER TO postgres;

--
-- Name: faculty_subject_preferences_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: postgres
--

ALTER SEQUENCE public.faculty_subject_preferences_id_seq OWNED BY public.faculty_subject_preferences.id;


--
-- Name: rooms; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.rooms (
    room_id integer NOT NULL,
    room_name character varying(50) NOT NULL,
    capacity integer NOT NULL
);


ALTER TABLE public.rooms OWNER TO postgres;

--
-- Name: rooms_room_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

CREATE SEQUENCE public.rooms_room_id_seq
    AS integer
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER SEQUENCE public.rooms_room_id_seq OWNER TO postgres;

--
-- Name: rooms_room_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: postgres
--

ALTER SEQUENCE public.rooms_room_id_seq OWNED BY public.rooms.room_id;


--
-- Name: subject_load_config; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.subject_load_config (
    id integer NOT NULL,
    subject_id integer,
    year_level character varying(5),
    semester integer,
    weekly_theory_load integer,
    weekly_practical_load integer
);


ALTER TABLE public.subject_load_config OWNER TO postgres;

--
-- Name: subject_load_config_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

CREATE SEQUENCE public.subject_load_config_id_seq
    AS integer
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER SEQUENCE public.subject_load_config_id_seq OWNER TO postgres;

--
-- Name: subject_load_config_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: postgres
--

ALTER SEQUENCE public.subject_load_config_id_seq OWNED BY public.subject_load_config.id;


--
-- Name: subjects; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.subjects (
    subject_id integer NOT NULL,
    subject_name character varying(100) NOT NULL,
    department character varying(100) NOT NULL,
    is_lab boolean DEFAULT false
);


ALTER TABLE public.subjects OWNER TO postgres;

--
-- Name: subjects_subject_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

CREATE SEQUENCE public.subjects_subject_id_seq
    AS integer
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER SEQUENCE public.subjects_subject_id_seq OWNER TO postgres;

--
-- Name: subjects_subject_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: postgres
--

ALTER SEQUENCE public.subjects_subject_id_seq OWNED BY public.subjects.subject_id;


--
-- Name: teacher_availability; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.teacher_availability (
    teacher_id integer NOT NULL,
    slot_id integer NOT NULL,
    is_available boolean DEFAULT true
);


ALTER TABLE public.teacher_availability OWNER TO postgres;

--
-- Name: teacher_batch_subject_allocation; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.teacher_batch_subject_allocation (
    allocation_id integer NOT NULL,
    teacher_id integer,
    subject_id integer,
    class_id integer,
    batch_id integer
);


ALTER TABLE public.teacher_batch_subject_allocation OWNER TO postgres;

--
-- Name: teacher_batch_subject_allocation_allocation_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

CREATE SEQUENCE public.teacher_batch_subject_allocation_allocation_id_seq
    AS integer
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER SEQUENCE public.teacher_batch_subject_allocation_allocation_id_seq OWNER TO postgres;

--
-- Name: teacher_batch_subject_allocation_allocation_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: postgres
--

ALTER SEQUENCE public.teacher_batch_subject_allocation_allocation_id_seq OWNED BY public.teacher_batch_subject_allocation.allocation_id;


--
-- Name: teacher_class_allocation; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.teacher_class_allocation (
    teacher_id integer,
    class_id integer
);


ALTER TABLE public.teacher_class_allocation OWNER TO postgres;

--
-- Name: teacher_subject_allocation; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.teacher_subject_allocation (
    allocation_id integer NOT NULL,
    teacher_id integer,
    subject_id integer,
    class_id integer
);


ALTER TABLE public.teacher_subject_allocation OWNER TO postgres;

--
-- Name: teacher_subject_allocation_allocation_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

CREATE SEQUENCE public.teacher_subject_allocation_allocation_id_seq
    AS integer
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER SEQUENCE public.teacher_subject_allocation_allocation_id_seq OWNER TO postgres;

--
-- Name: teacher_subject_allocation_allocation_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: postgres
--

ALTER SEQUENCE public.teacher_subject_allocation_allocation_id_seq OWNED BY public.teacher_subject_allocation.allocation_id;


--
-- Name: teacher_weekly_load; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.teacher_weekly_load (
    load_id integer NOT NULL,
    teacher_id integer NOT NULL,
    subject_id integer NOT NULL,
    class_id integer NOT NULL,
    weekly_theory_load integer DEFAULT 0,
    weekly_practical_load integer DEFAULT 0
);


ALTER TABLE public.teacher_weekly_load OWNER TO postgres;

--
-- Name: teacher_weekly_load_load_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

CREATE SEQUENCE public.teacher_weekly_load_load_id_seq
    AS integer
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER SEQUENCE public.teacher_weekly_load_load_id_seq OWNER TO postgres;

--
-- Name: teacher_weekly_load_load_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: postgres
--

ALTER SEQUENCE public.teacher_weekly_load_load_id_seq OWNED BY public.teacher_weekly_load.load_id;


--
-- Name: teachers; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.teachers (
    teacher_id integer NOT NULL,
    teacher_name character varying(100) NOT NULL,
    department character varying(100),
    max_lectures_per_day integer DEFAULT 3,
    max_practicals_per_day integer DEFAULT 1,
    max_lectures_per_week integer DEFAULT 20
);


ALTER TABLE public.teachers OWNER TO postgres;

--
-- Name: teachers_teacher_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

CREATE SEQUENCE public.teachers_teacher_id_seq
    AS integer
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER SEQUENCE public.teachers_teacher_id_seq OWNER TO postgres;

--
-- Name: teachers_teacher_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: postgres
--

ALTER SEQUENCE public.teachers_teacher_id_seq OWNED BY public.teachers.teacher_id;


--
-- Name: time_slots; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.time_slots (
    slot_id integer NOT NULL,
    day character varying(10),
    start_time time without time zone NOT NULL,
    end_time time without time zone NOT NULL,
    slot_number integer,
    slot_type character varying(20),
    CONSTRAINT time_slots_day_check CHECK (((day)::text = ANY ((ARRAY['Monday'::character varying, 'Tuesday'::character varying, 'Wednesday'::character varying, 'Thursday'::character varying, 'Friday'::character varying, 'Saturday'::character varying])::text[]))),
    CONSTRAINT time_slots_slot_type_check CHECK (((slot_type)::text = ANY ((ARRAY['LECTURE'::character varying, 'PRACTICAL'::character varying])::text[])))
);


ALTER TABLE public.time_slots OWNER TO postgres;

--
-- Name: time_slots_slot_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

CREATE SEQUENCE public.time_slots_slot_id_seq
    AS integer
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER SEQUENCE public.time_slots_slot_id_seq OWNER TO postgres;

--
-- Name: time_slots_slot_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: postgres
--

ALTER SEQUENCE public.time_slots_slot_id_seq OWNED BY public.time_slots.slot_id;


--
-- Name: timetable; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.timetable (
    timetable_id integer NOT NULL,
    class_id integer NOT NULL,
    subject_id integer NOT NULL,
    teacher_id integer NOT NULL,
    batch_id integer,
    is_lab boolean NOT NULL,
    day character varying(10) NOT NULL,
    start_time time without time zone NOT NULL,
    end_time time without time zone NOT NULL,
    generated_at timestamp without time zone DEFAULT CURRENT_TIMESTAMP
);


ALTER TABLE public.timetable OWNER TO postgres;

--
-- Name: timetable_timetable_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

CREATE SEQUENCE public.timetable_timetable_id_seq
    AS integer
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER SEQUENCE public.timetable_timetable_id_seq OWNER TO postgres;

--
-- Name: timetable_timetable_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: postgres
--

ALTER SEQUENCE public.timetable_timetable_id_seq OWNED BY public.timetable.timetable_id;


--
-- Name: users; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.users (
    user_id integer NOT NULL,
    name character varying(100) NOT NULL,
    email character varying(100) NOT NULL,
    password character varying(100) NOT NULL,
    role character varying(20),
    CONSTRAINT users_role_check CHECK (((role)::text = ANY ((ARRAY['FACULTY'::character varying, 'HOD'::character varying, 'EXAM'::character varying])::text[])))
);


ALTER TABLE public.users OWNER TO postgres;

--
-- Name: users_user_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

CREATE SEQUENCE public.users_user_id_seq
    AS integer
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER SEQUENCE public.users_user_id_seq OWNER TO postgres;

--
-- Name: users_user_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: postgres
--

ALTER SEQUENCE public.users_user_id_seq OWNED BY public.users.user_id;


--
-- Name: class_batches batch_id; Type: DEFAULT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.class_batches ALTER COLUMN batch_id SET DEFAULT nextval('public.class_batches_batch_id_seq'::regclass);


--
-- Name: classes class_id; Type: DEFAULT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.classes ALTER COLUMN class_id SET DEFAULT nextval('public.classes_class_id_seq'::regclass);


--
-- Name: faculty_subject_preferences id; Type: DEFAULT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.faculty_subject_preferences ALTER COLUMN id SET DEFAULT nextval('public.faculty_subject_preferences_id_seq'::regclass);


--
-- Name: rooms room_id; Type: DEFAULT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.rooms ALTER COLUMN room_id SET DEFAULT nextval('public.rooms_room_id_seq'::regclass);


--
-- Name: subject_load_config id; Type: DEFAULT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.subject_load_config ALTER COLUMN id SET DEFAULT nextval('public.subject_load_config_id_seq'::regclass);


--
-- Name: subjects subject_id; Type: DEFAULT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.subjects ALTER COLUMN subject_id SET DEFAULT nextval('public.subjects_subject_id_seq'::regclass);


--
-- Name: teacher_batch_subject_allocation allocation_id; Type: DEFAULT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.teacher_batch_subject_allocation ALTER COLUMN allocation_id SET DEFAULT nextval('public.teacher_batch_subject_allocation_allocation_id_seq'::regclass);


--
-- Name: teacher_subject_allocation allocation_id; Type: DEFAULT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.teacher_subject_allocation ALTER COLUMN allocation_id SET DEFAULT nextval('public.teacher_subject_allocation_allocation_id_seq'::regclass);


--
-- Name: teacher_weekly_load load_id; Type: DEFAULT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.teacher_weekly_load ALTER COLUMN load_id SET DEFAULT nextval('public.teacher_weekly_load_load_id_seq'::regclass);


--
-- Name: teachers teacher_id; Type: DEFAULT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.teachers ALTER COLUMN teacher_id SET DEFAULT nextval('public.teachers_teacher_id_seq'::regclass);


--
-- Name: time_slots slot_id; Type: DEFAULT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.time_slots ALTER COLUMN slot_id SET DEFAULT nextval('public.time_slots_slot_id_seq'::regclass);


--
-- Name: timetable timetable_id; Type: DEFAULT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.timetable ALTER COLUMN timetable_id SET DEFAULT nextval('public.timetable_timetable_id_seq'::regclass);


--
-- Name: users user_id; Type: DEFAULT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.users ALTER COLUMN user_id SET DEFAULT nextval('public.users_user_id_seq'::regclass);


--
-- Name: class_batches class_batches_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.class_batches
    ADD CONSTRAINT class_batches_pkey PRIMARY KEY (batch_id);


--
-- Name: classes classes_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.classes
    ADD CONSTRAINT classes_pkey PRIMARY KEY (class_id);


--
-- Name: faculty_subject_preferences faculty_subject_preferences_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.faculty_subject_preferences
    ADD CONSTRAINT faculty_subject_preferences_pkey PRIMARY KEY (id);


--
-- Name: rooms rooms_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.rooms
    ADD CONSTRAINT rooms_pkey PRIMARY KEY (room_id);


--
-- Name: rooms rooms_room_name_key; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.rooms
    ADD CONSTRAINT rooms_room_name_key UNIQUE (room_name);


--
-- Name: subject_load_config subject_load_config_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.subject_load_config
    ADD CONSTRAINT subject_load_config_pkey PRIMARY KEY (id);


--
-- Name: subject_load_config subject_load_config_subject_id_year_level_semester_key; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.subject_load_config
    ADD CONSTRAINT subject_load_config_subject_id_year_level_semester_key UNIQUE (subject_id, year_level, semester);


--
-- Name: subjects subjects_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.subjects
    ADD CONSTRAINT subjects_pkey PRIMARY KEY (subject_id);


--
-- Name: teacher_availability teacher_availability_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.teacher_availability
    ADD CONSTRAINT teacher_availability_pkey PRIMARY KEY (teacher_id, slot_id);


--
-- Name: teacher_batch_subject_allocation teacher_batch_subject_allocation_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.teacher_batch_subject_allocation
    ADD CONSTRAINT teacher_batch_subject_allocation_pkey PRIMARY KEY (allocation_id);


--
-- Name: teacher_class_allocation teacher_class_allocation_teacher_id_class_id_key; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.teacher_class_allocation
    ADD CONSTRAINT teacher_class_allocation_teacher_id_class_id_key UNIQUE (teacher_id, class_id);


--
-- Name: teacher_subject_allocation teacher_subject_allocation_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.teacher_subject_allocation
    ADD CONSTRAINT teacher_subject_allocation_pkey PRIMARY KEY (allocation_id);


--
-- Name: teacher_weekly_load teacher_weekly_load_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.teacher_weekly_load
    ADD CONSTRAINT teacher_weekly_load_pkey PRIMARY KEY (load_id);


--
-- Name: teacher_weekly_load teacher_weekly_load_teacher_id_subject_id_class_id_key; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.teacher_weekly_load
    ADD CONSTRAINT teacher_weekly_load_teacher_id_subject_id_class_id_key UNIQUE (teacher_id, subject_id, class_id);


--
-- Name: teachers teachers_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.teachers
    ADD CONSTRAINT teachers_pkey PRIMARY KEY (teacher_id);


--
-- Name: time_slots time_slots_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.time_slots
    ADD CONSTRAINT time_slots_pkey PRIMARY KEY (slot_id);


--
-- Name: timetable timetable_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.timetable
    ADD CONSTRAINT timetable_pkey PRIMARY KEY (timetable_id);


--
-- Name: subjects unique_subject_name; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.subjects
    ADD CONSTRAINT unique_subject_name UNIQUE (subject_name);


--
-- Name: subject_load_config unique_subject_per_semester; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.subject_load_config
    ADD CONSTRAINT unique_subject_per_semester UNIQUE (subject_id, year_level, semester);


--
-- Name: subject_load_config unique_subject_year_sem; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.subject_load_config
    ADD CONSTRAINT unique_subject_year_sem UNIQUE (subject_id, year_level, semester);


--
-- Name: users users_email_key; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.users
    ADD CONSTRAINT users_email_key UNIQUE (email);


--
-- Name: users users_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.users
    ADD CONSTRAINT users_pkey PRIMARY KEY (user_id);


--
-- Name: class_batches class_batches_class_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.class_batches
    ADD CONSTRAINT class_batches_class_id_fkey FOREIGN KEY (class_id) REFERENCES public.classes(class_id);


--
-- Name: subject_load_config subject_load_config_subject_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.subject_load_config
    ADD CONSTRAINT subject_load_config_subject_id_fkey FOREIGN KEY (subject_id) REFERENCES public.subjects(subject_id);


--
-- Name: teacher_availability teacher_availability_slot_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.teacher_availability
    ADD CONSTRAINT teacher_availability_slot_id_fkey FOREIGN KEY (slot_id) REFERENCES public.time_slots(slot_id) ON DELETE CASCADE;


--
-- Name: teacher_availability teacher_availability_teacher_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.teacher_availability
    ADD CONSTRAINT teacher_availability_teacher_id_fkey FOREIGN KEY (teacher_id) REFERENCES public.teachers(teacher_id) ON DELETE CASCADE;


--
-- Name: teacher_batch_subject_allocation teacher_batch_subject_allocation_batch_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.teacher_batch_subject_allocation
    ADD CONSTRAINT teacher_batch_subject_allocation_batch_id_fkey FOREIGN KEY (batch_id) REFERENCES public.class_batches(batch_id);


--
-- Name: teacher_batch_subject_allocation teacher_batch_subject_allocation_class_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.teacher_batch_subject_allocation
    ADD CONSTRAINT teacher_batch_subject_allocation_class_id_fkey FOREIGN KEY (class_id) REFERENCES public.classes(class_id);


--
-- Name: teacher_batch_subject_allocation teacher_batch_subject_allocation_subject_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.teacher_batch_subject_allocation
    ADD CONSTRAINT teacher_batch_subject_allocation_subject_id_fkey FOREIGN KEY (subject_id) REFERENCES public.subjects(subject_id);


--
-- Name: teacher_batch_subject_allocation teacher_batch_subject_allocation_teacher_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.teacher_batch_subject_allocation
    ADD CONSTRAINT teacher_batch_subject_allocation_teacher_id_fkey FOREIGN KEY (teacher_id) REFERENCES public.teachers(teacher_id);


--
-- Name: teacher_subject_allocation teacher_subject_allocation_class_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.teacher_subject_allocation
    ADD CONSTRAINT teacher_subject_allocation_class_id_fkey FOREIGN KEY (class_id) REFERENCES public.classes(class_id) ON DELETE CASCADE;


--
-- Name: teacher_subject_allocation teacher_subject_allocation_subject_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.teacher_subject_allocation
    ADD CONSTRAINT teacher_subject_allocation_subject_id_fkey FOREIGN KEY (subject_id) REFERENCES public.subjects(subject_id) ON DELETE CASCADE;


--
-- Name: teacher_subject_allocation teacher_subject_allocation_teacher_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.teacher_subject_allocation
    ADD CONSTRAINT teacher_subject_allocation_teacher_id_fkey FOREIGN KEY (teacher_id) REFERENCES public.teachers(teacher_id) ON DELETE CASCADE;


--
-- Name: teacher_weekly_load teacher_weekly_load_class_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.teacher_weekly_load
    ADD CONSTRAINT teacher_weekly_load_class_id_fkey FOREIGN KEY (class_id) REFERENCES public.classes(class_id);


--
-- Name: teacher_weekly_load teacher_weekly_load_subject_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.teacher_weekly_load
    ADD CONSTRAINT teacher_weekly_load_subject_id_fkey FOREIGN KEY (subject_id) REFERENCES public.subjects(subject_id);


--
-- Name: teacher_weekly_load teacher_weekly_load_teacher_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.teacher_weekly_load
    ADD CONSTRAINT teacher_weekly_load_teacher_id_fkey FOREIGN KEY (teacher_id) REFERENCES public.teachers(teacher_id) ON DELETE CASCADE;


--
-- Name: timetable timetable_batch_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.timetable
    ADD CONSTRAINT timetable_batch_id_fkey FOREIGN KEY (batch_id) REFERENCES public.class_batches(batch_id);


--
-- Name: timetable timetable_class_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.timetable
    ADD CONSTRAINT timetable_class_id_fkey FOREIGN KEY (class_id) REFERENCES public.classes(class_id);


--
-- Name: timetable timetable_subject_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.timetable
    ADD CONSTRAINT timetable_subject_id_fkey FOREIGN KEY (subject_id) REFERENCES public.subjects(subject_id);


--
-- Name: timetable timetable_teacher_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.timetable
    ADD CONSTRAINT timetable_teacher_id_fkey FOREIGN KEY (teacher_id) REFERENCES public.teachers(teacher_id);
